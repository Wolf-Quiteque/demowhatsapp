(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{1773:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return h}});var r=n(29),t=n(7794),s=n.n(t),i=n(7294),o=n(782),c=(n(4213),n(1163)),l=n(9008),u=n(1664),d=n.n(u),m=n(3299),p=n(5893);function h(){var e=(0,c.useRouter)(),a={},n=(0,i.useState)(!1),t=n[0],u=n[1],h=(0,i.useState)(""),x=h[0],j=h[1],v=(0,i.useState)(null),f=v[0],b=v[1],g=(0,i.useState)(!0),N=g[0],C=g[1],k=(0,i.useState)(!1),S=k[0],y=k[1],w=(0,i.useState)(""),P=w[0],_=w[1],q=(0,i.useState)(""),z=q[0],O=q[1],A=(0,i.useState)(""),E=A[0],F=A[1],D=(0,i.useState)(""),I=D[0],M=D[1],T=(0,m.useSession)(),B=(T.data,T.status),J=function(){var a=(0,r.Z)(s().mark((function a(){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"authenticated"===B&&e.replace("/perfil");case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,i.useEffect)((function(){J()}),[B]);var L=function(){var n=(0,r.Z)(s().mark((function n(r){var t,i,c,l,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u(!0),r.preventDefault(),f){n.next=6;break}return alert("Comprovativo Obrigat\xf3rio!"),u(!1),n.abrupt("return",!1);case 6:if(!f){n.next=16;break}return t=new FormData,i=Date.now()+f.name,t.append("file",f),t.append("name",i),t.append("upload_preset","rvtitoz5"),n.next=14,fetch("https://api.cloudinary.com/v1_1/dup24qnij/image/upload",{method:"Post",body:t}).then((function(e){return e.json()}));case 14:c=n.sent,a.comprovativo=c.secure_url;case 16:return a.tipo="membro",a.conta="activo",a.nome=P,a.bi=E,a.ultimonome=z,a.tipo=x,a.classe=I,n.prev=23,n.next=26,fetch("/api/usuarios/novomembro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 26:return l=n.sent,n.next=29,l.json();case 29:if("success"==(d=n.sent).message){n.next=33;break}return o.Am.error(d.message,{autoClose:2e3,onClose:function(){return!1}}),n.abrupt("return",!1);case 33:n.next=41;break;case 35:return n.prev=35,n.t0=n.catch(23),console.log(n.t0),o.Am.error("houve um erro",{autoClose:2e3}),u(!1),n.abrupt("return",!1);case 41:setTimeout((function(){o.Am.success("Obrigado, caso fou aprovado As credenciais ser\xe3o enviadas para o seu e-mail. Obrigado.(verifique no spam tambem)",{autoClose:4e3,onClose:function(){e.push("/login")}})}),2e3);case 42:case"end":return n.stop()}}),n,null,[[23,35]])})));return function(e){return n.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)(l.default,{children:(0,p.jsx)("title",{children:"Inscri\xe7\xf5es - ANJE"})}),(0,p.jsxs)("div",{className:"register-box",style:{marginTop:"30px"},children:[(0,p.jsxs)("div",{className:"card card-outline card-primary",children:[(0,p.jsx)("div",{className:"card-header text-center",children:(0,p.jsx)("h2",{children:"Inscri\xe7\xe3o"})}),(0,p.jsx)("div",{className:"card-body",children:(0,p.jsxs)("form",{onSubmit:L,children:[N&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"N\xb0 BI",onChange:function(e){F(e.target.value)},required:!0})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Nome",onChange:function(e){_(e.target.value)},required:!0})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"\xdaltimo Nome",onChange:function(e){O(e.target.value)},required:!0})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){a.tipoconta=e.target.value,j(e.target.value)},required:!0,children:[(0,p.jsx)("option",{value:"",children:"Tipo de Conta"}),(0,p.jsx)("option",{value:"Membro",children:"Membro"}),(0,p.jsx)("option",{value:"Parceiro",children:"Parceiro"})]})}),""!=x&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("select",{className:"form-control",onChange:function(e){M(e.target.value)},required:!0,children:[(0,p.jsx)("option",{value:"",children:"Selecione um classe"}),"Membro"==x&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)("option",{value:"Diamante",children:"Diamante - 35.000,00 kz"}),(0,p.jsx)("option",{value:"Platina",children:"Platina - 20.000,00 kz"}),(0,p.jsx)("option",{value:"Ouro",children:"Ouro - 10.000,00 kz"}),(0,p.jsx)("option",{value:"Prata",children:"Prata - 5.000,00 kz"}),(0,p.jsx)("option",{value:"Bronze",children:"Bronze - 1.000,00 kz"})]}),"Parceiro"==x&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)("option",{value:"Diamante",children:"Diamante - 100.000,00 kz"}),(0,p.jsx)("option",{value:"Platina",children:"Platina - 75.000,00 kz"}),(0,p.jsx)("option",{value:"Ouro",children:"Ouro - 50.000,00 kz"}),(0,p.jsx)("option",{value:"Prata",children:"Prata - 35.000,00 kz"})]})]})})}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:"Coordenadas b\xe1ncarias: "})}),(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:"AO06006600000676366110127"})}),(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:"ANJE ANGOLA ASS N P C J EMPRESARIOS"})}),(0,p.jsx)("label",{for:"exampleInputFile",children:"Comprovativo"}),(0,p.jsx)("input",{type:"file",id:"exampleInputFile",accept:".pdf,.jpg,.png,.jpeg",onChange:function(e){return b(e.target.files[0])}})]}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("button",{className:"btn btn-sm btn-info btn-block",onClick:function(){C(!1),y(!0)},children:["Pr\xf3ximo ",(0,p.jsx)("i",{class:"fa fa-arrow-alt-circle-right"})]})}),(0,p.jsx)("span",{class:"text-center mt-4",children:"J\xe1 tem conta?"})]}),S&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("button",{className:"btn btn-sm btn-info",onClick:function(){C(!0),y(!1)},children:[(0,p.jsx)("i",{class:"fa fa-arrow-alt-circle-left"}),"Voltar"]})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",onChange:function(e){a.email=e.target.value.toLowerCase()},required:!0})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"password",className:"form-control",placeholder:"Cria uma senha",onChange:function(e){a.password=e.target.value},required:!0})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("div",{className:"input-group",children:[(0,p.jsx)("div",{className:"input-group-prepend",children:(0,p.jsx)("span",{className:"input-group-text",children:"+244"})}),(0,p.jsx)("input",{type:"number",className:"form-control","data-inputmask":'"mask": "(999) 999-9999"',"data-mask":"",inputmode:"number",placeholder:"Contacto",onChange:function(e){a.contacto=e.target.value},required:!0})]})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("textarea",{className:"form-control",placeholder:"Motiva\xe7\xe3o",onChange:function(e){a.motivacao=e.target.value},required:!0})}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{for:"exampleInputFile",children:"Data de Nascimento"}),(0,p.jsx)("input",{type:"date",className:"form-control",placeholder:"Data de Nascimento",onChange:function(e){a.dataNascimento=e.target.value},required:!0})]}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("select",{id:"provincia",className:"form-control",onChange:function(e){a.provincia=e.target.value},required:!0,children:[(0,p.jsx)("option",{value:"",children:"Selecione a Prov\xedncia"}),["Bengo","Benguela","Bi\xe9","Cabinda","Cuando Cubango","Cuanza Norte","Cuanza Sul","Cunene","Huambo","Hu\xedla","Luanda","Lunda Norte","Lunda Sul","Malanje","Moxico","Namibe","U\xedge","Zaire"].map((function(e){return(0,p.jsx)("option",{value:e,children:e},e)}))]})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Munic\xedpio",onChange:function(e){a.municipio=e.target.value},required:!0})}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-12",children:(0,p.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t,children:t?"Aguarde...":"Registar"})})})]}),!t&&(0,p.jsx)(d(),{href:"/login",children:(0,p.jsx)("a",{className:"btn btn-xs btn-warning btn-block",children:"Iniciar Sess\xe3o"})})]})})]}),(0,p.jsx)(o.Ix,{})]})]})}},33:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inscricao",function(){return n(1773)}])}},function(e){e.O(0,[324,774,888,179],(function(){return a=33,e(e.s=a);var a}));var a=e.O();_N_E=a}]);